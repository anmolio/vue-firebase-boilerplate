{"remainingRequest":"/Users/anmolion/code/sandbox/congenial-tribble/node_modules/babel-loader/lib/index.js!/Users/anmolion/code/sandbox/congenial-tribble/src/store/auth.js","dependencies":[{"path":"/Users/anmolion/code/sandbox/congenial-tribble/src/store/auth.js","mtime":1609276696985},{"path":"/Users/anmolion/code/sandbox/congenial-tribble/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anmolion/code/sandbox/congenial-tribble/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2FubW9saW9uL2NvZGUvc2FuZGJveC9jb25nZW5pYWwtdHJpYmJsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBmaXJlYmFzZSBmcm9tICdAL2ZpcmViYXNlJzsKdmFyIHN0YXRlID0gewogIHVzZXI6IHt9LAogIGlzTG9nZ2VkSW46IGZhbHNlCn07CnZhciBtdXRhdGlvbnMgPSB7CiAgc2V0VXNlcjogZnVuY3Rpb24gc2V0VXNlcihzdGF0ZSwgdXNlcikgewogICAgc3RhdGUudXNlciA9IHVzZXI7CiAgICBzdGF0ZS5pc0xvZ2dlZEluID0gdHJ1ZTsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgY29tbWl0LCBwcm92aWRlciwgX3lpZWxkJGZpcmViYXNlJGF1dGgkLCB1c2VyOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgIHByb3ZpZGVyID0gbmV3IGZpcmViYXNlLmF1dGguR29vZ2xlQXV0aFByb3ZpZGVyKCk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoUG9wdXAocHJvdmlkZXIpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIF95aWVsZCRmaXJlYmFzZSRhdXRoJCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgdXNlciA9IF95aWVsZCRmaXJlYmFzZSRhdXRoJC51c2VyOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHByb2ZpbGUudXNlcik7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXRVc2VyJywgewogICAgICAgICAgICAgICAgaWQ6IHVzZXIudWlkLAogICAgICAgICAgICAgICAgbmFtZTogdXNlci5kaXNwbGF5TmFtZSwKICAgICAgICAgICAgICAgIGltYWdlOiB1c2VyLnBob3RvVVJMLAogICAgICAgICAgICAgICAgY3JlYXRlZF9hdDogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCkKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBzdGF0ZSwKICBtdXRhdGlvbnM6IG11dGF0aW9ucywKICBhY3Rpb25zOiBhY3Rpb25zCn07"},{"version":3,"sources":["/Users/anmolion/code/sandbox/congenial-tribble/src/store/auth.js"],"names":["firebase","state","user","isLoggedIn","mutations","setUser","actions","login","commit","provider","auth","GoogleAuthProvider","signInWithPopup","console","log","profile","id","uid","name","displayName","image","photoURL","created_at","firestore","FieldValue","serverTimestamp","namespaced"],"mappings":";;AAAA,OAAOA,QAAP,MAAqB,YAArB;AAEA,IAAMC,KAAK,GAAG;AACVC,EAAAA,IAAI,EAAG,EADG;AAEVC,EAAAA,UAAU,EAAG;AAFH,CAAd;AAKA,IAAMC,SAAS,GAAG;AACdC,EAAAA,OADc,mBACNJ,KADM,EACCC,IADD,EACO;AACjBD,IAAAA,KAAK,CAACC,IAAN,GAAaA,IAAb;AACAD,IAAAA,KAAK,CAACE,UAAN,GAAmB,IAAnB;AACH;AAJa,CAAlB;AAQA,IAAMG,OAAO,GAAG;AACNC,EAAAA,KADM,uBACU;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAATC,cAAAA,MAAS,QAATA,MAAS;AACZC,cAAAA,QADY,GACD,IAAIT,QAAQ,CAACU,IAAT,CAAcC,kBAAlB,EADC;AAAA;AAAA,qBAEGX,QAAQ,CAACU,IAAT,GAAgBE,eAAhB,CAAgCH,QAAhC,CAFH;;AAAA;AAAA;AAEXP,cAAAA,IAFW,yBAEXA,IAFW;AAGlBW,cAAAA,OAAO,CAACC,GAAR,CAAYC,OAAO,CAACb,IAApB;AACAM,cAAAA,MAAM,CAAC,SAAD,EAAW;AACbQ,gBAAAA,EAAE,EAAGd,IAAI,CAACe,GADG;AAEbC,gBAAAA,IAAI,EAAGhB,IAAI,CAACiB,WAFC;AAGbC,gBAAAA,KAAK,EAAGlB,IAAI,CAACmB,QAHA;AAIbC,gBAAAA,UAAU,EAAGtB,QAAQ,CAACuB,SAAT,CAAmBC,UAAnB,CAA8BC,eAA9B;AAJA,eAAX,CAAN;;AAJkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUrB;AAXW,CAAhB;AAcA,eAAe;AACXC,EAAAA,UAAU,EAAE,IADD;AAEXzB,EAAAA,KAAK,EAALA,KAFW;AAGXG,EAAAA,SAAS,EAATA,SAHW;AAIXE,EAAAA,OAAO,EAAPA;AAJW,CAAf","sourcesContent":["import firebase from '@/firebase';\n\nconst state = {\n    user : {},\n    isLoggedIn : false,\n};\n\nconst mutations = {\n    setUser(state, user) {\n        state.user = user;\n        state.isLoggedIn = true;\n    },\n};\n\n\nconst actions = {\n    async login({commit}) {\n        const provider = new firebase.auth.GoogleAuthProvider();\n        const {user} = await firebase.auth().signInWithPopup(provider);\n        console.log(profile.user);\n        commit('setUser',{\n            id : user.uid,\n            name : user.displayName,\n            image : user.photoURL,\n            created_at : firebase.firestore.FieldValue.serverTimestamp() \n        });\n    },\n};\n\nexport default {\n    namespaced: true,\n    state,\n    mutations,\n    actions,\n};\n"]}]}